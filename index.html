<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: cyan;
            color: black;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .top-title {
            text-align: center;
            padding-top: 20px;
        }

        .container {
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .message {
            font-size: 24px;
            font-weight: bold;
        }

        .site-title {
            font-size: 48px;
            color: black;
            margin-bottom: 30px;
        }

        .continue-btn {
            font-size: 16px;
            padding: 15px 50px;
            margin-top: 20px;
            background-color: yellow;
            color: black;
            border: 2px solid black;
        }

        .fullscreen-gif {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease-in;
        }

        .fullscreen-gif.active {
            opacity: 1;
            pointer-events: auto;
        }

        .fullscreen-gif img {
            height: 100vh;
            width: auto;
            object-fit: contain;
        }

        .container.hidden {
            display: none;
        }

        .top-title.hidden {
            display: none;
        }

        .random-ju {
            position: fixed;
            height: 40vh;
            width: auto;
            display: none;
            pointer-events: none;
            z-index: 1000;
        }

        .random-ju.show {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .message {
                font-size: 1.8rem;
                margin-bottom: 40px;
            }

            .continue-btn {
                font-size: 1rem;
                padding: 15px 45px;
            }
        }

        @media (max-width: 480px) {
            .message {
                font-size: 1.5rem;
            }

            .continue-btn {
                font-size: 0.9rem;
                padding: 12px 35px;
                letter-spacing: 1.5px;
            }
        }
    </style>
</head>
<body>
    <div class="top-title">
        <p class="site-title">Arthurhogarth.com</p>
    </div>

    <div class="container">
        <p class="message">Turn volume up</p>
        <button class="continue-btn" id="continueBtn">Enter</button>
    </div>

    <div class="fullscreen-gif" id="arthurGif">
        <img src="arthur.GIF" alt="Arthur">
    </div>

    <img src="ju.GIF" alt="Ju" class="random-ju" id="randomJu">

    <audio id="funkytownAudio" loop preload="auto">
        <source src="funkytown.m4a" type="audio/mp4">
        <source src="funkytown.mp3" type="audio/mpeg">
    </audio>
    <audio id="airhornAudio" preload="auto">
        <source src="airhorn.m4a" type="audio/mp4">
        <source src="airhorn.mp3" type="audio/mpeg">
    </audio>

    <script>
        let juInterval;

        // Preload audio on page load
        window.addEventListener('load', function() {
            const funkytownAudio = document.getElementById('funkytownAudio');
            const airhornAudio = document.getElementById('airhornAudio');
            
            // Force load audio files
            funkytownAudio.load();
            airhornAudio.load();
        });

        document.getElementById('continueBtn').addEventListener('click', function() {
            // Hide the container and top title immediately
            document.querySelector('.container').classList.add('hidden');
            document.querySelector('.top-title').classList.add('hidden');
            
            // Start music immediately
            const audio = document.getElementById('funkytownAudio');
            const airhornAudio = document.getElementById('airhornAudio');
            
            audio.play().catch(e => console.log('Audio play failed:', e));
            
            // "Unlock" airhorn audio for mobile by playing and immediately pausing it
            // This allows future programmatic plays to work
            airhornAudio.play().then(() => {
                airhornAudio.pause();
                airhornAudio.currentTime = 0;
            }).catch(e => console.log('Airhorn unlock failed:', e));
            
            // Show gif with fade effect - need small delay for transition to work
            const arthurGif = document.getElementById('arthurGif');
            setTimeout(() => {
                arthurGif.classList.add('active');
            }, 10);
            
            // Start the random ju.gif appearance
            startJuSequence();
        });

        function startJuSequence() {
            // Wait 8 seconds before showing ju.gif for the first time
            setTimeout(() => {
                showRandomJu();
                
                // Then repeat: 8 seconds wait + show gif (plays twice)
                // Total cycle time: 8 seconds wait + ~4 seconds for gif to play twice
                juInterval = setInterval(() => {
                    showRandomJu();
                }, 12000); // 8 seconds wait + 4 seconds for gif display
            }, 8000);
        }

        function showRandomJu() {
            const juElement = document.getElementById('randomJu');
            const airhornAudio = document.getElementById('airhornAudio');
            
            // Calculate random position that keeps the image on screen
            // Get the image dimensions (40vh height, auto width based on aspect ratio)
            const viewportHeight = window.innerHeight;
            const viewportWidth = window.innerWidth;
            const juHeight = viewportHeight * 0.4; // 40vh
            
            // Estimate width based on typical aspect ratio (we'll use a safe margin)
            const estimatedJuWidth = juHeight * 1.5; // Adjust this ratio if needed
            
            // Calculate safe bounds
            const maxTop = viewportHeight - juHeight;
            const maxLeft = viewportWidth - estimatedJuWidth;
            
            // Random position within safe bounds
            const randomTop = Math.random() * Math.max(0, maxTop);
            const randomLeft = Math.random() * Math.max(0, maxLeft);
            
            // Position the element
            juElement.style.top = randomTop + 'px';
            juElement.style.left = randomLeft + 'px';
            
            // Reset the gif to start from beginning by reloading src
            const currentSrc = juElement.src;
            juElement.src = '';
            juElement.src = currentSrc;
            
            // Play airhorn first (ensure it's properly reset)
            try {
                airhornAudio.pause();
                airhornAudio.currentTime = 0;
                // Force a brief moment before replaying to ensure mobile browsers handle it
                setTimeout(() => {
                    airhornAudio.play().catch(e => console.log('Airhorn play failed:', e));
                }, 10);
            } catch(e) {
                console.log('Airhorn reset failed:', e);
            }
            
            // Show the gif 300ms after function is called
            setTimeout(() => {
                juElement.classList.add('show');
            }, 700);
            
            // Hide after gif plays twice (assuming ~2 seconds per loop = 4 seconds total)
            setTimeout(() => {
                juElement.classList.remove('show');
            }, 4000);
        }
    </script>
</body>
</html>

